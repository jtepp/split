[debug] [2021-06-10T02:19:31.362Z] ----------------------------------------------------------------------
[debug] [2021-06-10T02:19:31.363Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2021-06-10T02:19:31.364Z] CLI Version:   9.12.1
[debug] [2021-06-10T02:19:31.364Z] Platform:      darwin
[debug] [2021-06-10T02:19:31.364Z] Node Version:  v14.15.4
[debug] [2021-06-10T02:19:31.365Z] Time:          Wed Jun 09 2021 22:19:31 GMT-0400 (Eastern Daylight Time)
[debug] [2021-06-10T02:19:31.365Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-06-10T02:19:31.373Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-06-10T02:19:31.373Z] > authorizing via signed-in user (jptepp@gmail.com)
[debug] [2021-06-10T02:19:31.373Z] [iam] checking project split-d526f for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2021-06-10T02:19:31.375Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/split-d526f:testIamPermissions  
 {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2021-06-10T02:19:31.740Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:31 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=230","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:31.743Z] >>> HTTP REQUEST POST https://iam.googleapis.com/v1/projects/split-d526f/serviceAccounts/split-d526f@appspot.gserviceaccount.com:testIamPermissions  
 {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2021-06-10T02:19:32.152Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:32 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'split-d526f'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2021-06-10T02:19:35.253Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/split-d526f/services/cloudfunctions.googleapis.com  
 
[debug] [2021-06-10T02:19:35.253Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/split-d526f/services/runtimeconfig.googleapis.com  
 
[debug] [2021-06-10T02:19:35.253Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/split-d526f/services/cloudbuild.googleapis.com  
 
[debug] [2021-06-10T02:19:35.832Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:35 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:35.942Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:35 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2021-06-10T02:19:36.009Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:35 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2021-06-10T02:19:36.011Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/split-d526f/adminSdkConfig  
 
[debug] [2021-06-10T02:19:37.092Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:36 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: preparing functions directory for uploading... 
[debug] [2021-06-10T02:19:37.096Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/split-d526f/configs  
 
[debug] [2021-06-10T02:19:37.366Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:37 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:37.368Z] Analyizing backend with strategy parseJSExports
[info] i  functions: packaged functions (34.82 KB) for uploading 
[debug] [2021-06-10T02:19:37.516Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "14"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "eslint": "^7.6.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2021-06-10T02:19:37.517Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/split-d526f/locations/-/functions  
 
[debug] [2021-06-10T02:19:38.117Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:38 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:38.122Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/split-d526f/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2021-06-10T02:19:38.902Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:38 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:38.908Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D  
 <request body omitted>
[debug] [2021-06-10T02:19:39.204Z] <<< HTTP RESPONSE 200 {"x-guploader-uploadid":"ABg5-Uw9apUYFMUeJN07ADQaHDeux54E6fJnfLoZnuwMMgfFNmdP8JCzuoK-vncxCYDlh1Kt414bpjVTz-nnS12-g1M","etag":"\"f906478fdb23678240ef182ca3d718e5\"","x-goog-generation":"1623291579259508","x-goog-metageneration":"1","x-goog-hash":"crc32c=jcpSrA==, md5=+QZHj9sjZ4JA7xgso9cY5Q==","x-goog-stored-content-length":"35655","x-goog-stored-content-encoding":"identity","vary":"Origin","content-length":"0","date":"Thu, 10 Jun 2021 02:19:39 GMT","server":"UploadServer","content-type":"text/html; charset=UTF-8","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\""}
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 14 function sendNotificationOnPayment(us-central1)... 
[debug] [2021-06-10T02:19:39.212Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment {"updateMask":"name,sourceUploadUrl,entryPoint,runtime,eventTrigger.eventType,eventTrigger.resource,eventTrigger.failurePolicy,labels,environmentVariables"} 
 {"name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D","entryPoint":"sendNotificationOnPayment","runtime":"nodejs14","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}"},"labels":{"deployment-tool":"cli-firebase"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"}}
[debug] [2021-06-10T02:19:39.656Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:19:39 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:39.661Z] > refreshing access token with scopes: []
[debug] [2021-06-10T02:19:39.661Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-06-10T02:19:39.865Z] <<< HTTP RESPONSE 200 {"cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","date":"Thu, 10 Jun 2021 02:19:39 GMT","pragma":"no-cache","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:19:39.918Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ [none]
[debug] [2021-06-10T02:19:40.201Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ 200
[debug] [2021-06-10T02:19:40.201Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:17:24.526Z","versionId":"8","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"7e9ddac4-71a2-4b14-b005-e56e43f20427"},"versionId":"9","updateTime":"2021-06-10T02:19:39Z","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa","buildName":"projects/914562162036/locations/us-central1/builds/619676fb-7077-4aa9-84f4-dbec2652f7fa"}}
[debug] [2021-06-10T02:19:40.709Z] [update-projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment] Retrying task index 0
[debug] [2021-06-10T02:19:40.712Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ [none]
[debug] [2021-06-10T02:19:40.967Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ 200
[debug] [2021-06-10T02:19:40.967Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:17:24.526Z","versionId":"8","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"7e9ddac4-71a2-4b14-b005-e56e43f20427"},"versionId":"9","updateTime":"2021-06-10T02:19:39Z","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa","buildName":"projects/914562162036/locations/us-central1/builds/619676fb-7077-4aa9-84f4-dbec2652f7fa"}}
[debug] [2021-06-10T02:19:41.972Z] [update-projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment] Retrying task index 0
[debug] [2021-06-10T02:19:41.973Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ [none]
[debug] [2021-06-10T02:19:42.243Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ 200
[debug] [2021-06-10T02:19:42.244Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:17:24.526Z","versionId":"8","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"7e9ddac4-71a2-4b14-b005-e56e43f20427"},"versionId":"9","updateTime":"2021-06-10T02:19:39Z","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa","buildName":"projects/914562162036/locations/us-central1/builds/619676fb-7077-4aa9-84f4-dbec2652f7fa"}}
[debug] [2021-06-10T02:19:44.246Z] [update-projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment] Retrying task index 0
[debug] [2021-06-10T02:19:44.247Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ [none]
[debug] [2021-06-10T02:19:44.656Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ 200
[debug] [2021-06-10T02:19:44.656Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:17:24.526Z","versionId":"8","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"7e9ddac4-71a2-4b14-b005-e56e43f20427"},"versionId":"9","updateTime":"2021-06-10T02:19:39Z","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa","buildName":"projects/914562162036/locations/us-central1/builds/619676fb-7077-4aa9-84f4-dbec2652f7fa"}}
[debug] [2021-06-10T02:19:48.659Z] [update-projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment] Retrying task index 0
[debug] [2021-06-10T02:19:48.660Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ [none]
[debug] [2021-06-10T02:19:48.932Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ 200
[debug] [2021-06-10T02:19:48.932Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC84SjZRWDU0cUZQVQ","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:17:24.526Z","versionId":"8","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/f44fd885-83d4-4750-bcea-a8f6f38ef854.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293378&Signature=zNXXGgtYj2%2Bx9cjADm0lcnELTUjBVEhlj7SIZ9WMDPT05cjtHO%2FOg17ruFJtA7C6w%2BbRd%2FyGKjeVKC5%2BHYBIUsH1L2Kx5X6hlcvAxR5x3FfrrDCtxNYlWqQ2JhCjxpkhXJiKRMx%2BuZVqOnDemrFhtuLpg1YBXn%2BBo0KKZqecRTp9aWLwDRMAwGXpeQDrIeiZYcFaQhOPxsVl%2BAc1h78xmF%2F54LVS49QOZqAdfak7b51Dw7uFCSG2XR%2BR%2Fb6gDwDeRmqo0dsLYZrU76XnXgJFQR%2Ffn1GM7w4Z2tMjFXyToqIjinOChoQa4fn%2BnVWeaZupkqDKgIKLSipzxIzhGx%2Fqwg%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"7e9ddac4-71a2-4b14-b005-e56e43f20427"},"versionId":"9","updateTime":"2021-06-10T02:19:39Z","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa","buildName":"projects/914562162036/locations/us-central1/builds/619676fb-7077-4aa9-84f4-dbec2652f7fa"}}
[debug] [2021-06-10T02:21:22.728Z] ----------------------------------------------------------------------
[debug] [2021-06-10T02:21:22.729Z] Command:       /usr/local/bin/node /usr/local/bin/firebase deploy
[debug] [2021-06-10T02:21:22.730Z] CLI Version:   9.12.1
[debug] [2021-06-10T02:21:22.730Z] Platform:      darwin
[debug] [2021-06-10T02:21:22.730Z] Node Version:  v14.15.4
[debug] [2021-06-10T02:21:22.731Z] Time:          Wed Jun 09 2021 22:21:22 GMT-0400 (Eastern Daylight Time)
[debug] [2021-06-10T02:21:22.731Z] ----------------------------------------------------------------------
[debug] 
[debug] [2021-06-10T02:21:22.742Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-06-10T02:21:22.742Z] > authorizing via signed-in user (jptepp@gmail.com)
[debug] [2021-06-10T02:21:22.742Z] [iam] checking project split-d526f for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2021-06-10T02:21:22.744Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2021-06-10T02:21:22.744Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-06-10T02:21:22.958Z] <<< HTTP RESPONSE 200 {"cache-control":"no-cache, no-store, max-age=0, must-revalidate","pragma":"no-cache","expires":"Mon, 01 Jan 1990 00:00:00 GMT","date":"Thu, 10 Jun 2021 02:21:23 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:23.007Z] >>> HTTP REQUEST POST https://cloudresourcemanager.googleapis.com/v1/projects/split-d526f:testIamPermissions  
 {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2021-06-10T02:21:23.384Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:23 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","server-timing":"gfet4t7; dur=234","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:23.388Z] >>> HTTP REQUEST POST https://iam.googleapis.com/v1/projects/split-d526f/serviceAccounts/split-d526f@appspot.gserviceaccount.com:testIamPermissions  
 {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2021-06-10T02:21:23.655Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:23 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] 
[info] === Deploying to 'split-d526f'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] ✔  functions: Finished running predeploy script. 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2021-06-10T02:21:26.865Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/split-d526f/services/cloudfunctions.googleapis.com  
 
[debug] [2021-06-10T02:21:26.865Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/split-d526f/services/runtimeconfig.googleapis.com  
 
[debug] [2021-06-10T02:21:26.865Z] >>> HTTP REQUEST GET https://serviceusage.googleapis.com/v1/projects/split-d526f/services/cloudbuild.googleapis.com  
 
[debug] [2021-06-10T02:21:27.334Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:27.434Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2021-06-10T02:21:27.464Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2021-06-10T02:21:27.466Z] >>> HTTP REQUEST GET https://firebase.googleapis.com/v1beta1/projects/split-d526f/adminSdkConfig  
 
[debug] [2021-06-10T02:21:27.752Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:27 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[info] i  functions: preparing functions directory for uploading... 
[debug] [2021-06-10T02:21:27.756Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/split-d526f/configs  
 
[debug] [2021-06-10T02:21:29.162Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:29 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:29.164Z] Analyizing backend with strategy parseJSExports
[info] i  functions: packaged functions (35.76 KB) for uploading 
[debug] [2021-06-10T02:21:29.324Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "lint": "eslint",
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "14"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^9.8.0",
    "firebase-functions": "^3.14.1"
  },
  "devDependencies": {
    "eslint": "^7.6.0",
    "eslint-config-google": "^0.14.0",
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2021-06-10T02:21:29.325Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/split-d526f/locations/-/functions  
 
[debug] [2021-06-10T02:21:29.767Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:29 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:29.772Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/split-d526f/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2021-06-10T02:21:30.454Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:30 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:30.460Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/32beb0ea-7280-47bb-9e7d-a68b5cc76fd6.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293490&Signature=WziT74bQs81U9gNBeocfS3%2F6iop%2FN%2BMhdzxmRJlskNTEkVu1FBeeWZLzTo58sjJnGcmeN5zTpxN1p2IVCzZr6nnNqKcw7%2BO0O0YCdYPb7kavkl900XKahA0ExRYKp9jmIia7TPvQpM9%2FTWaQ4x3UiynAf0YDrgL9iakY1wlH9VeUc1eB1m8oKNJUrBMN3KgDSMueNkCwkeZtRo8%2Fhovl6D3CfOul0tWySREk%2Bc3ujMLfTP1c8ikNLfpuePyYfbtwFJovBjdblIKXALn4RNiPqb5rV%2BQ5mbPIds07rWC2uR7cxvuvPwIqh7kZvpT7QSA5bvVNYW0vuCUV8kxVMIAkoA%3D%3D  
 <request body omitted>
[debug] [2021-06-10T02:21:30.769Z] <<< HTTP RESPONSE 200 {"x-guploader-uploadid":"ABg5-UyKkrTcL3ktE22LLF-a2D6Jd50vxH9KLr5cK8Xo5FfQXRUsaHR25nUEo-h5_z9fpiSpM_ccmyA2yLx8Nq-rknA","etag":"\"b59417dd76e1291887f2630922a038d8\"","x-goog-generation":"1623291690825729","x-goog-metageneration":"1","x-goog-hash":"crc32c=0Tg+Hg==, md5=tZQX3XbhKRiH8mMJIqA42A==","x-goog-stored-content-length":"36623","x-goog-stored-content-encoding":"identity","vary":"Origin","content-length":"0","date":"Thu, 10 Jun 2021 02:21:30 GMT","server":"UploadServer","content-type":"text/html; charset=UTF-8","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\""}
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 14 function sendNotificationOnPayment(us-central1)... 
[debug] [2021-06-10T02:21:30.779Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment {"updateMask":"name,sourceUploadUrl,entryPoint,runtime,eventTrigger.eventType,eventTrigger.resource,eventTrigger.failurePolicy,labels,environmentVariables"} 
 {"name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/32beb0ea-7280-47bb-9e7d-a68b5cc76fd6.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293490&Signature=WziT74bQs81U9gNBeocfS3%2F6iop%2FN%2BMhdzxmRJlskNTEkVu1FBeeWZLzTo58sjJnGcmeN5zTpxN1p2IVCzZr6nnNqKcw7%2BO0O0YCdYPb7kavkl900XKahA0ExRYKp9jmIia7TPvQpM9%2FTWaQ4x3UiynAf0YDrgL9iakY1wlH9VeUc1eB1m8oKNJUrBMN3KgDSMueNkCwkeZtRo8%2Fhovl6D3CfOul0tWySREk%2Bc3ujMLfTP1c8ikNLfpuePyYfbtwFJovBjdblIKXALn4RNiPqb5rV%2BQ5mbPIds07rWC2uR7cxvuvPwIqh7kZvpT7QSA5bvVNYW0vuCUV8kxVMIAkoA%3D%3D","entryPoint":"sendNotificationOnPayment","runtime":"nodejs14","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}"},"labels":{"deployment-tool":"cli-firebase"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"}}
[debug] [2021-06-10T02:21:31.371Z] <<< HTTP RESPONSE 200 {"content-type":"application/json; charset=UTF-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","date":"Thu, 10 Jun 2021 02:21:31 GMT","server":"ESF","cache-control":"private","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:31.376Z] > refreshing access token with scopes: []
[debug] [2021-06-10T02:21:31.377Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-06-10T02:21:31.577Z] <<< HTTP RESPONSE 200 {"pragma":"no-cache","date":"Thu, 10 Jun 2021 02:21:31 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3=\":443\"; ma=2592000,h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-06-10T02:21:31.629Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA [none]
[debug] [2021-06-10T02:21:31.857Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA 200
[debug] [2021-06-10T02:21:31.858Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:21:06.009Z","versionId":"9","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/32beb0ea-7280-47bb-9e7d-a68b5cc76fd6.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293490&Signature=WziT74bQs81U9gNBeocfS3%2F6iop%2FN%2BMhdzxmRJlskNTEkVu1FBeeWZLzTo58sjJnGcmeN5zTpxN1p2IVCzZr6nnNqKcw7%2BO0O0YCdYPb7kavkl900XKahA0ExRYKp9jmIia7TPvQpM9%2FTWaQ4x3UiynAf0YDrgL9iakY1wlH9VeUc1eB1m8oKNJUrBMN3KgDSMueNkCwkeZtRo8%2Fhovl6D3CfOul0tWySREk%2Bc3ujMLfTP1c8ikNLfpuePyYfbtwFJovBjdblIKXALn4RNiPqb5rV%2BQ5mbPIds07rWC2uR7cxvuvPwIqh7kZvpT7QSA5bvVNYW0vuCUV8kxVMIAkoA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa"},"versionId":"10","updateTime":"2021-06-10T02:21:31Z","buildId":"dbc6cdc5-4315-40c7-b44e-73872c7d0310","buildName":"projects/914562162036/locations/us-central1/builds/dbc6cdc5-4315-40c7-b44e-73872c7d0310"}}
[debug] [2021-06-10T02:21:32.364Z] [update-projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment] Retrying task index 0
[debug] [2021-06-10T02:21:32.366Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA [none]
[debug] [2021-06-10T02:21:32.635Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA 200
[debug] [2021-06-10T02:21:32.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA {"name":"operations/c3BsaXQtZDUyNmYvdXMtY2VudHJhbDEvc2VuZE5vdGlmaWNhdGlvbk9uUGF5bWVudC90NDdTb0h0WUtmNA","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v1.OperationMetadataV1","target":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","type":"UPDATE_FUNCTION","request":{"@type":"type.googleapis.com/google.cloud.functions.v1.CloudFunction","name":"projects/split-d526f/locations/us-central1/functions/sendNotificationOnPayment","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/split-d526f/databases/(default)/documents/houses/{houseid}/payments/{paymentid}","service":"firestore.googleapis.com"},"status":"ACTIVE","entryPoint":"sendNotificationOnPayment","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"split-d526f@appspot.gserviceaccount.com","updateTime":"2021-06-10T02:21:06.009Z","versionId":"9","labels":{"deployment-tool":"cli-firebase"},"sourceUploadUrl":"https://storage.googleapis.com/gcf-upload-us-central1-941a7fbe-649d-4b5c-874a-414264fba751/32beb0ea-7280-47bb-9e7d-a68b5cc76fd6.zip?GoogleAccessId=service-914562162036@gcf-admin-robot.iam.gserviceaccount.com&Expires=1623293490&Signature=WziT74bQs81U9gNBeocfS3%2F6iop%2FN%2BMhdzxmRJlskNTEkVu1FBeeWZLzTo58sjJnGcmeN5zTpxN1p2IVCzZr6nnNqKcw7%2BO0O0YCdYPb7kavkl900XKahA0ExRYKp9jmIia7TPvQpM9%2FTWaQ4x3UiynAf0YDrgL9iakY1wlH9VeUc1eB1m8oKNJUrBMN3KgDSMueNkCwkeZtRo8%2Fhovl6D3CfOul0tWySREk%2Bc3ujMLfTP1c8ikNLfpuePyYfbtwFJovBjdblIKXALn4RNiPqb5rV%2BQ5mbPIds07rWC2uR7cxvuvPwIqh7kZvpT7QSA5bvVNYW0vuCUV8kxVMIAkoA%3D%3D","environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"split-d526f\",\"storageBucket\":\"split-d526f.appspot.com\",\"locationId\":\"us-east1\"}"},"runtime":"nodejs14","ingressSettings":"ALLOW_ALL","buildId":"619676fb-7077-4aa9-84f4-dbec2652f7fa"},"versionId":"10","updateTime":"2021-06-10T02:21:31Z","buildId":"dbc6cdc5-4315-40c7-b44e-73872c7d0310","buildName":"projects/914562162036/locations/us-central1/builds/dbc6cdc5-4315-40c7-b44e-73872c7d0310"}}
